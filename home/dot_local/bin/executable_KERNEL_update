#!/usr/bin/env bash
set -ueo pipefail
YELLOW='\033[1;33m'
BLUE='\033[1;34m'
NC='\033[0m'

paru -Syu --batchinstall --sudoloop \
    --noconfirm --skipreview --failfast \
    --cleanafter --rebuild  \
    --combinedupgrade linux-lqx linux-lqx-docs linux-lqx-headers

paru -Qtdq | paru -Rns --recursive --sudoloop --failfast --noconfirm - 2> /dev/null || \
    printf "${BLUE}%s::%s${YELLOW}%s No packages to clean${NC}\n"

sudo grub-mkconfig -o /boot/grub/grub.cfg
